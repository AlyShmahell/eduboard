\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} MySQL Script generated by MySQL Workbench}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} dom 14 gen 2018 02:07:18 CET}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Model: Mercantile Ships    Version: 1.0}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} MySQL Workbench Forward Engineering}

\PYG{k+kt}{SET} \PYG{o}{@}\PYG{n}{OLD\PYGZus{}UNIQUE\PYGZus{}CHECKS}\PYG{o}{=@@}\PYG{n}{UNIQUE\PYGZus{}CHECKS}\PYG{p}{,} \PYG{n}{UNIQUE\PYGZus{}CHECKS}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{;}
\PYG{k+kt}{SET} \PYG{o}{@}\PYG{n}{OLD\PYGZus{}FOREIGN\PYGZus{}KEY\PYGZus{}CHECKS}\PYG{o}{=@@}\PYG{n}{FOREIGN\PYGZus{}KEY\PYGZus{}CHECKS}\PYG{p}{,} \PYG{n}{FOREIGN\PYGZus{}KEY\PYGZus{}CHECKS}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{;}
\PYG{k+kt}{SET} \PYG{o}{@}\PYG{n}{OLD\PYGZus{}SQL\PYGZus{}MODE}\PYG{o}{=@@}\PYG{n}{SQL\PYGZus{}MODE}\PYG{p}{,} \PYG{n}{SQL\PYGZus{}MODE}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}TRADITIONAL,ALLOW\PYGZus{}INVALID\PYGZus{}DATES\PYGZsq{}}\PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Schema Mercantile Ships}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Schema Mercantile Ships}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{SCHEMA} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`} \PYG{k}{DEFAULT} \PYG{k}{CHARACTER} \PYG{k+kt}{SET} \PYG{n}{utf8} \PYG{p}{;}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`Ships`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ships`} \PYG{p}{(}
  \PYG{l+s+ss}{`IMO`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`name`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`tonnage`} \PYG{k+kt}{INT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`nationality`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`draft`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`autonomy`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{PRIMARY} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{),}
  \PYG{k}{UNIQUE} \PYG{k}{INDEX} \PYG{l+s+ss}{`IMO\PYGZus{}UNIQUE`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`} \PYG{k}{ASC}\PYG{p}{))}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`rentalCompanies`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`rentalCompanies`} \PYG{p}{(}
  \PYG{l+s+ss}{`rentalCompanyIVA`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`rentalCompanyName`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{PRIMARY} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`rentalCompanyIVA`}\PYG{p}{),}
  \PYG{k}{UNIQUE} \PYG{k}{INDEX} \PYG{l+s+ss}{`IVA\PYGZus{}UNIQUE`} \PYG{p}{(}\PYG{l+s+ss}{`rentalCompanyIVA`} \PYG{k}{ASC}\PYG{p}{))}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`rentalShips`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`rentalShips`} \PYG{p}{(}
  \PYG{l+s+ss}{`IMO`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`masterData`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`rentalCompanyContacts`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{PRIMARY} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{),}
  \PYG{k}{UNIQUE} \PYG{k}{INDEX} \PYG{l+s+ss}{`IMO\PYGZus{}UNIQUE`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}rentalShips\PYGZus{}Ships1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ships`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`ownShips`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`ownShips`} \PYG{p}{(}
  \PYG{l+s+ss}{`IMO`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{PRIMARY} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{),}
  \PYG{k}{UNIQUE} \PYG{k}{INDEX} \PYG{l+s+ss}{`IMO\PYGZus{}UNIQUE`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}ownShips\PYGZus{}Ships1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ships`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`rentalContracts`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`rentalContracts`} \PYG{p}{(}
  \PYG{l+s+ss}{`registrationNo`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL} \PYG{k+kp}{AUTO\PYGZus{}INCREMENT}\PYG{p}{,}
  \PYG{l+s+ss}{`rentalCompanyIVA`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`IMO`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`rentStartDate`} \PYG{k+kt}{DATETIME} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`rentEndDate`} \PYG{k+kt}{DATETIME} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`stipulationDate`} \PYG{k+kt}{DATETIME} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`availability`} \PYG{k+kt}{INT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`eSignature`} \PYG{k+kt}{BLOB} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{PRIMARY} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`registrationNo`}\PYG{p}{),}
  \PYG{k}{UNIQUE} \PYG{k}{INDEX} \PYG{l+s+ss}{`registrationNo\PYGZus{}UNIQUE`} \PYG{p}{(}\PYG{l+s+ss}{`registrationNo`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{INDEX} \PYG{l+s+ss}{`fk\PYGZus{}rentalContracts\PYGZus{}rentalShips1\PYGZus{}idx`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{INDEX} \PYG{l+s+ss}{`fk\PYGZus{}rentalContracts\PYGZus{}rentalCompanies1\PYGZus{}idx`} \PYG{p}{(}\PYG{l+s+ss}{`rentalCompanyIVA`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}rentalContracts\PYGZus{}rentalShips1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`rentalShips`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{,}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}rentalContracts\PYGZus{}rentalCompanies1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`rentalCompanyIVA`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`rentalCompanies`} \PYG{p}{(}\PYG{l+s+ss}{`rentalCompanyIVA`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`Customers`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Customers`} \PYG{p}{(}
  \PYG{l+s+ss}{`customerIVA`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`CustomerName`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{UNIQUE} \PYG{k}{INDEX} \PYG{l+s+ss}{`customerIVA\PYGZus{}UNIQUE`} \PYG{p}{(}\PYG{l+s+ss}{`customerIVA`} \PYG{k}{ASC}\PYG{p}{))}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`carriageContracts`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`carriageContracts`} \PYG{p}{(}
  \PYG{l+s+ss}{`missionNo`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`customerIVA`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`stipulationDate`} \PYG{k+kt}{DATETIME} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`price`} \PYG{k+kt}{INT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`eSignature`} \PYG{k+kt}{BLOB} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`contractStatus`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{INDEX} \PYG{l+s+ss}{`fk\PYGZus{}carriageContract\PYGZus{}Customer1\PYGZus{}idx`} \PYG{p}{(}\PYG{l+s+ss}{`customerIVA`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{UNIQUE} \PYG{k}{INDEX} \PYG{l+s+ss}{`missionNo\PYGZus{}UNIQUE`} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}carriageContract\PYGZus{}Customer1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`customerIVA`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Customers`} \PYG{p}{(}\PYG{l+s+ss}{`customerIVA`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`Missions`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Missions`} \PYG{p}{(}
  \PYG{l+s+ss}{`IMO`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`missionNo`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`missionStartDate`} \PYG{k+kt}{DATETIME} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`missionEndDate`} \PYG{k+kt}{DATETIME} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`missionLoad`} \PYG{k+kt}{INT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`currCoordinates`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`advanceDelay`} \PYG{k+kt}{INT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`missionValidity`} \PYG{k}{BINARY}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)} \PYG{n+no}{NULL} \PYG{k}{DEFAULT} \PYG{l+m+mi}{0}\PYG{p}{,}
  \PYG{k}{INDEX} \PYG{l+s+ss}{`fk\PYGZus{}Missions\PYGZus{}carriageContracts1\PYGZus{}idx`} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{INDEX} \PYG{l+s+ss}{`fk\PYGZus{}Missions\PYGZus{}Ships1\PYGZus{}idx`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{UNIQUE} \PYG{k}{INDEX} \PYG{l+s+ss}{`missionNo\PYGZus{}UNIQUE`} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{PRIMARY} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{),}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}Missions\PYGZus{}carriageContracts1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`carriageContracts`} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{,}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}Missions\PYGZus{}Ships1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ships`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`haveCrew`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`haveCrew`} \PYG{p}{(}
  \PYG{l+s+ss}{`crewType`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`IMO`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{INDEX} \PYG{l+s+ss}{`fk\PYGZus{}haveCrew\PYGZus{}Ships1\PYGZus{}idx`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{UNIQUE} \PYG{k}{INDEX} \PYG{l+s+ss}{`IMO\PYGZus{}UNIQUE`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{INDEX} \PYG{l+s+ss}{`crewTypeIndex`} \PYG{p}{(}\PYG{l+s+ss}{`crewType`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}haveCrew\PYGZus{}Ships1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ships`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`Crews`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Crews`} \PYG{p}{(}
  \PYG{l+s+ss}{`pk`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL} \PYG{k+kp}{AUTO\PYGZus{}INCREMENT}\PYG{p}{,}
  \PYG{l+s+ss}{`crewType`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`role`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`qualifications`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`Certificate`} \PYG{k}{BINARY}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`vacancies`} \PYG{k+kt}{INT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`salary`} \PYG{k+kt}{INT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{INDEX} \PYG{l+s+ss}{`fk\PYGZus{}Crews\PYGZus{}haveCrew1\PYGZus{}idx`} \PYG{p}{(}\PYG{l+s+ss}{`crewType`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{PRIMARY} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`pk`}\PYG{p}{),}
  \PYG{k}{UNIQUE} \PYG{k}{INDEX} \PYG{l+s+ss}{`code\PYGZus{}UNIQUE`} \PYG{p}{(}\PYG{l+s+ss}{`pk`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}Crews\PYGZus{}haveCrew1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`crewType`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`haveCrew`} \PYG{p}{(}\PYG{l+s+ss}{`crewType`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`Routes`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Routes`} \PYG{p}{(}
  \PYG{l+s+ss}{`missionNo`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{PRIMARY} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{),}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}Routes\PYGZus{}Missions1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Missions`} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`Points`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Points`} \PYG{p}{(}
  \PYG{l+s+ss}{`missionNo`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`coordinates`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`expectedCrossing`} \PYG{k+kt}{DATETIME} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`effectiveCrossing`} \PYG{k+kt}{DATETIME} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}Points\PYGZus{}Routes1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Routes`} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`Ports`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ports`} \PYG{p}{(}
  \PYG{l+s+ss}{`missionNo`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`portCoordinates`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`departureArrival`} \PYG{k}{BINARY}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`PortingDate`} \PYG{k+kt}{DATETIME} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`effectivelyPorted`} \PYG{k}{BINARY}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)} \PYG{k}{NOT} \PYG{n+no}{NULL} \PYG{k}{DEFAULT} \PYG{n+no}{false}\PYG{p}{,}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}Ports\PYGZus{}Routes1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Routes`} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`Containers`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Containers`} \PYG{p}{(}
  \PYG{l+s+ss}{`missionNo`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`containerNo`} \PYG{k+kt}{INT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`contentType`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`ownerData`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}Loads\PYGZus{}Missions1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Missions`} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`Employees`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Employees`} \PYG{p}{(}
  \PYG{l+s+ss}{`id`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`employeeName`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`qualifications`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{PRIMARY} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`id`}\PYG{p}{))}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`haveStaff`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`haveStaff`} \PYG{p}{(}
  \PYG{l+s+ss}{`missionNo`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`id`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`role`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`qualifications`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{k}{INDEX} \PYG{l+s+ss}{`fk\PYGZus{}haveStaff\PYGZus{}Missions1\PYGZus{}idx`} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{INDEX} \PYG{l+s+ss}{`fk\PYGZus{}haveStaff\PYGZus{}Employees1\PYGZus{}idx`} \PYG{p}{(}\PYG{l+s+ss}{`id`} \PYG{k}{ASC}\PYG{p}{),}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}haveStaff\PYGZus{}Missions1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Missions`} \PYG{p}{(}\PYG{l+s+ss}{`missionNo`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{,}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}haveStaff\PYGZus{}Employees1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`id`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Employees`} \PYG{p}{(}\PYG{l+s+ss}{`id`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}


\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} Table `Mercantile Ships`.`wherePorted`}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{k}{CREATE} \PYG{k}{TABLE} \PYG{k}{IF} \PYG{k}{NOT} \PYG{k}{EXISTS} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`wherePorted`} \PYG{p}{(}
  \PYG{l+s+ss}{`IMO`} \PYG{k+kt}{INT} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`portCoordinates`} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{k}{NOT} \PYG{n+no}{NULL}\PYG{p}{,}
  \PYG{l+s+ss}{`ported`} \PYG{k}{BINARY}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)} \PYG{k}{NOT} \PYG{n+no}{NULL} \PYG{k}{DEFAULT} \PYG{n+no}{true}\PYG{p}{,}
  \PYG{k}{PRIMARY} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{),}
  \PYG{k}{CONSTRAINT} \PYG{l+s+ss}{`fk\PYGZus{}wherePorted\PYGZus{}Ships1`}
    \PYG{k}{FOREIGN} \PYG{k}{KEY} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{REFERENCES} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ships`} \PYG{p}{(}\PYG{l+s+ss}{`IMO`}\PYG{p}{)}
    \PYG{k}{ON} \PYG{k}{DELETE} \PYG{k}{CASCADE}
    \PYG{k}{ON} \PYG{k}{UPDATE} \PYG{k}{CASCADE}\PYG{p}{)}
\PYG{k+kp}{ENGINE} \PYG{o}{=} \PYG{n}{InnoDB}\PYG{p}{;}

\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addMission}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addMission`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionEndDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionLoad} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}arrivalPortCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}departurePortCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}arrivalPortingDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}departureProtingDate} \PYG{k+kt}{datetime}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{ignore} \PYG{k}{into} \PYG{l+s+ss}{`Ships`} \PYG{k}{values}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}dummyShip\PYGZsq{}}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}martian\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}none\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}none\PYGZsq{}}\PYG{p}{);}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Missions`}\PYG{p}{(}\PYG{n}{IMO}\PYG{p}{,} \PYG{n}{missionNo}\PYG{p}{,} \PYG{n}{missionStartDate}\PYG{p}{,} \PYG{n}{missionEndDate}\PYG{p}{,} \PYG{n}{missionLoad}\PYG{p}{)} \PYG{k}{values} \PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionStartDate}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionLoad}\PYG{p}{);}
	\PYG{k}{call} \PYG{l+s+ss}{`addRoute`}\PYG{p}{(}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{);}
    \PYG{k}{call} \PYG{l+s+ss}{`addPort`}\PYG{p}{(}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}departurePortCoordinates}\PYG{p}{,} \PYG{n+no}{true}\PYG{p}{,} \PYG{n}{n\PYGZus{}departureProtingDate}\PYG{p}{);}
    \PYG{k}{call} \PYG{l+s+ss}{`addPort`}\PYG{p}{(}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}arrivalPortCoordinates}\PYG{p}{,} \PYG{n+no}{false}\PYG{p}{,} \PYG{n}{n\PYGZus{}arrivalPortingDate}\PYG{p}{);}
    \PYG{k}{call} \PYG{l+s+ss}{`chooseProperShip`}\PYG{p}{(}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionStartDate}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionLoad}\PYG{p}{,} \PYG{n}{n\PYGZus{}arrivalPortCoordinates}\PYG{p}{,} \PYG{n}{n\PYGZus{}departurePortCoordinates}\PYG{p}{,} \PYG{o}{@}\PYG{n}{c\PYGZus{}IMO}\PYG{p}{);}
	\PYG{k}{call} \PYG{l+s+ss}{`pickStaff`}\PYG{p}{(}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{,} \PYG{o}{@}\PYG{n}{c\PYGZus{}IMO}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionStartDate}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addPort}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addPort`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{portCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}departureArrival} \PYG{k}{binary}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}portingDate} \PYG{k+kt}{datetime}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ports`} \PYG{k}{values}\PYG{p}{(}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{portCoordinates}\PYG{p}{,} \PYG{n}{n\PYGZus{}departureArrival}\PYG{p}{,} \PYG{n}{n\PYGZus{}portingDate}\PYG{p}{,} \PYG{n+no}{false}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addContainer}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addContainer`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}containerNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}contentType} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}ownerData} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Containers`} \PYG{k}{values} \PYG{p}{(}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}containerNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}contentType}\PYG{p}{,} \PYG{n}{n\PYGZus{}ownerData}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addPoint}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addPoint`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}coordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}expectedCrossing} \PYG{k+kt}{datetime}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Points`} \PYG{k}{values} \PYG{p}{(}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}coordinates}\PYG{p}{,} \PYG{n}{n\PYGZus{}expectedCrossing}\PYG{p}{,} \PYG{n+no}{null}\PYG{p}{,} \PYG{n+no}{null}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addRoute}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addRoute`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Routes`} \PYG{k}{values}\PYG{p}{(}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyPoint}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyPoint`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{s\PYGZus{}coordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}coordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}expectedCrossing} \PYG{k+kt}{datetime}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`Points`} \PYG{k+kt}{set} \PYG{n}{coordinates} \PYG{o}{=} \PYG{n}{n\PYGZus{}coordinates}\PYG{p}{,} \PYG{n}{expectedCrossing} \PYG{o}{=} \PYG{n}{n\PYGZus{}expectedCrossing} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo} \PYG{k}{and} \PYG{n}{coordinates} \PYG{k}{like} \PYG{n}{s\PYGZus{}coordinates}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyPort}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyPort`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}portCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}departureArrival} \PYG{k}{binary}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}effectivelyPorted} \PYG{k}{binary}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`Ports`} \PYG{k+kt}{set} \PYG{n}{portCoordinates} \PYG{o}{=} \PYG{n}{n\PYGZus{}portCoordinates}\PYG{p}{,} \PYG{n}{departureArrival} \PYG{o}{=} \PYG{n}{n\PYGZus{}departureArrival}\PYG{p}{,} \PYG{n}{effectivelyPorted} \PYG{o}{=} \PYG{n}{n\PYGZus{}effectivelyPorted} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteRoute}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteRoute`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin} 
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Routes`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deletePort}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deletePort`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{s\PYGZus{}portCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin} 
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Ports`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo} \PYG{k}{and} \PYG{n}{portCoordinates} \PYG{k}{like} \PYG{n}{s\PYGZus{}portCoordinates}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deletePoint}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deletePoint`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{s\PYGZus{}coordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin} 
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Points`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo} \PYG{k}{and} \PYG{n}{coordinates} \PYG{k}{like} \PYG{n}{s\PYGZus{}coordinates}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure triggerCrossing}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`triggerCrossing`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{s\PYGZus{}coordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}effectiveCrossing} \PYG{k+kt}{datetime}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`Points`} \PYG{k+kt}{set} \PYG{n}{effectiveCrossing} \PYG{o}{=} \PYG{n}{n\PYGZus{}effectiveCrossing} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo} \PYG{k}{and} \PYG{n}{coordinates} \PYG{k}{like} \PYG{n}{s\PYGZus{}coordinates}\PYG{p}{;}
    \PYG{k+kt}{set} \PYG{o}{@}\PYG{n}{expectedCrossing} \PYG{o}{=} \PYG{p}{(}\PYG{k}{select} \PYG{n}{expectedCrossing} \PYG{k}{from} \PYG{l+s+ss}{`Points`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo} \PYG{k}{and} \PYG{n}{coordinates} \PYG{o}{=} \PYG{n}{s\PYGZus{}coordinates}\PYG{p}{);}
	\PYG{k}{update} \PYG{l+s+ss}{`Missions`} \PYG{k+kt}{set} \PYG{n}{advanceDelay} \PYG{o}{=} \PYG{n+nf}{TIMESTAMPDIFF}\PYG{p}{(}\PYG{n}{MINUTE}\PYG{p}{,} \PYG{o}{@}\PYG{n}{expectedCrossing}\PYG{p}{,} \PYG{n}{n\PYGZus{}effectiveCrossing}\PYG{p}{)} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addOwnShip}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{k}{PROCEDURE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addOwnShip`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}shipName} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}tonnage} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}nationality} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}draft} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}autonomy} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}crewType} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}portCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{READS} \PYG{k}{SQL} \PYG{n}{DATA}
\PYG{n}{BEGIN}
     \PYG{k}{INSERT} \PYG{k}{INTO} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ships`} \PYG{k}{VALUES}\PYG{p}{(}\PYG{n}{n\PYGZus{}IMO}\PYG{p}{,} \PYG{n}{n\PYGZus{}shipName}\PYG{p}{,} \PYG{n}{n\PYGZus{}tonnage}\PYG{p}{,} \PYG{n}{n\PYGZus{}nationality}\PYG{p}{,} \PYG{n}{n\PYGZus{}draft}\PYG{p}{,} \PYG{n}{n\PYGZus{}autonomy}\PYG{p}{);}
     \PYG{k}{INSERT} \PYG{k}{INTO} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`ownShips`} \PYG{k}{VALUES}\PYG{p}{(}\PYG{n}{n\PYGZus{}IMO}\PYG{p}{);}
     \PYG{k}{INSERT} \PYG{k}{INTO} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`haveCrew`} \PYG{k}{VALUES}\PYG{p}{(}\PYG{n}{n\PYGZus{}crewType}\PYG{p}{,} \PYG{n}{n\PYGZus{}IMO}\PYG{p}{);}
     \PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`wherePorted`} \PYG{k}{values}\PYG{p}{(}\PYG{n}{n\PYGZus{}IMO}\PYG{p}{,} \PYG{n}{n\PYGZus{}portCoordinates}\PYG{p}{,} \PYG{n+no}{true}\PYG{p}{);}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyOwnShip}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{k}{PROCEDURE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyOwnShip`}\PYG{p}{(}\PYG{k}{IN} \PYG{n}{s\PYGZus{}IMO} \PYG{k+kt}{INT}\PYG{p}{,} \PYG{k}{IN} \PYG{n}{n\PYGZus{}shipName} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}tonnage} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}nationality} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}draft} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}autonomy} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}crewType} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}portCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}ported} \PYG{k}{binary}\PYG{p}{)}
\PYG{k}{READS} \PYG{k}{SQL} \PYG{n}{DATA}
\PYG{n}{BEGIN}
	\PYG{k}{UPDATE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ships`} \PYG{k+kt}{SET} \PYG{n}{shipName} \PYG{o}{=} \PYG{n}{n\PYGZus{}shipName}\PYG{p}{,} \PYG{n}{tonnage} \PYG{o}{=} \PYG{n}{n\PYGZus{}tonnage}\PYG{p}{,} \PYG{n}{nationality} \PYG{o}{=} \PYG{n}{n\PYGZus{}nationality}\PYG{p}{,} \PYG{n}{draft} \PYG{o}{=} \PYG{n}{n\PYGZus{}draft}\PYG{p}{,} \PYG{n}{autonomy} \PYG{o}{=} \PYG{n}{n\PYGZus{}autonomy} \PYG{k}{WHERE} \PYG{n}{IMO}  \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
	\PYG{k}{UPDATE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`haveCrew`} \PYG{k+kt}{set} \PYG{n}{crewType} \PYG{o}{=} \PYG{n}{n\PYGZus{}crewType} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
    \PYG{k}{update} \PYG{l+s+ss}{`wherePorted`} \PYG{k+kt}{set} \PYG{n}{portCoordinates} \PYG{o}{=} \PYG{n}{n\PYGZus{}portCoordinates}\PYG{p}{,} \PYG{n}{ported} \PYG{o}{=} \PYG{n}{n\PYGZus{}ported} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addRentalShip}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{k}{PROCEDURE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addRentalShip`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}shipName} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}tonnage} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}nationality} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}draft} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}autonomy} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}masterData} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}rentalCompanyContacts} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}crewType} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}portCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{READS} \PYG{k}{SQL} \PYG{n}{DATA}
\PYG{n}{BEGIN}
     \PYG{k}{INSERT} \PYG{k}{INTO} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ships`} \PYG{k}{VALUES}\PYG{p}{(}\PYG{n}{n\PYGZus{}IMO}\PYG{p}{,} \PYG{n}{n\PYGZus{}shipName}\PYG{p}{,} \PYG{n}{n\PYGZus{}tonnage}\PYG{p}{,} \PYG{n}{n\PYGZus{}nationality}\PYG{p}{,} \PYG{n}{n\PYGZus{}draft}\PYG{p}{,} \PYG{n}{n\PYGZus{}autonomy}\PYG{p}{);}
     \PYG{k}{INSERT} \PYG{k}{INTO} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`rentalShips`} \PYG{k}{VALUES}\PYG{p}{(}\PYG{n}{n\PYGZus{}IMO}\PYG{p}{,} \PYG{n}{n\PYGZus{}masterData}\PYG{p}{,} \PYG{n}{n\PYGZus{}rentalCompanyContacts}\PYG{p}{);}
     \PYG{k}{INSERT} \PYG{k}{INTO} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`haveCrew`} \PYG{k}{VALUES}\PYG{p}{(}\PYG{n}{n\PYGZus{}crewType}\PYG{p}{,} \PYG{n}{n\PYGZus{}IMO}\PYG{p}{);}
     \PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`wherePorted`} \PYG{k}{values}\PYG{p}{(}\PYG{n}{n\PYGZus{}IMO}\PYG{p}{,} \PYG{n}{n\PYGZus{}portCoordinates}\PYG{p}{,} \PYG{n+no}{true}\PYG{p}{);}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyRentalShip}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{k}{PROCEDURE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyRentalShip`}\PYG{p}{(}\PYG{k}{IN} \PYG{n}{s\PYGZus{}IMO} \PYG{k+kt}{INT}\PYG{p}{,} \PYG{k}{IN} \PYG{n}{n\PYGZus{}shipName} \PYG{k+kt}{VARCHAR}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}tonnage} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}nationality} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}draft} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}autonomy} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}masterData} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}rentalCompanyContacts} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}crewType} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}portCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}ported} \PYG{k}{binary}\PYG{p}{)}
\PYG{k}{READS} \PYG{k}{SQL} \PYG{n}{DATA}
\PYG{n}{BEGIN}
	\PYG{k}{UPDATE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Ships`} \PYG{k+kt}{SET} \PYG{n}{shipName} \PYG{o}{=} \PYG{n}{n\PYGZus{}shipName}\PYG{p}{,} \PYG{n}{tonnage} \PYG{o}{=} \PYG{n}{n\PYGZus{}tonnage}\PYG{p}{,} \PYG{n}{nationality} \PYG{o}{=} \PYG{n}{n\PYGZus{}nationality}\PYG{p}{,} \PYG{n}{draft} \PYG{o}{=} \PYG{n}{n\PYGZus{}draft}\PYG{p}{,} \PYG{n}{autonomy} \PYG{o}{=} \PYG{n}{n\PYGZus{}autonomy} \PYG{k}{WHERE} \PYG{n}{IMO}  \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
	\PYG{k}{UPDATE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`rentalShips`} \PYG{k+kt}{set} \PYG{n}{masterData} \PYG{o}{=} \PYG{n}{n\PYGZus{}masterData}\PYG{p}{,} \PYG{n}{rentalCompanyContacts} \PYG{o}{=} \PYG{n}{n\PYGZus{}rentalComanyContacts} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
    \PYG{k}{UPDATE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`haveCrew`} \PYG{k+kt}{set} \PYG{n}{crewType} \PYG{o}{=} \PYG{n}{n\PYGZus{}crewType} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
    \PYG{k}{update} \PYG{l+s+ss}{`wherePorted`} \PYG{k+kt}{set} \PYG{n}{portCoordinates} \PYG{o}{=} \PYG{n}{n\PYGZus{}portCoordinates}\PYG{p}{,} \PYG{n}{ported} \PYG{o}{=} \PYG{n}{n\PYGZus{}ported} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure chooseProperShip}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`chooseProperShip`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionEndDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{s\PYGZus{}missionLoad} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}arrivalPortCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}departurePortCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{out} \PYG{n}{c\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{declare} \PYG{n}{s\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{;}
    \PYG{k}{declare} \PYG{n}{s\PYGZus{}tonnage} \PYG{k+kt}{int}\PYG{p}{;}
    \PYG{k}{declare} \PYG{n}{notRental} \PYG{k+kt}{int}\PYG{p}{;}
    \PYG{k}{declare} \PYG{n}{shipNotAvailable} \PYG{k+kt}{int}\PYG{p}{;}
    \PYG{k}{declare} \PYG{n}{freeShip} \PYG{k+kt}{int}\PYG{p}{;}
    \PYG{k}{declare} \PYG{n}{missionConflict} \PYG{k+kt}{int}\PYG{p}{;}
    \PYG{k}{declare} \PYG{n}{lastPortChecks} \PYG{k+kt}{int}\PYG{p}{;}
	\PYG{k}{DECLARE} \PYG{n}{done} \PYG{k+kt}{INT} \PYG{k}{DEFAULT} \PYG{n+no}{FALSE}\PYG{p}{;}
	\PYG{k}{DECLARE} \PYG{n}{allShips} \PYG{k}{cursor} \PYG{k}{for} \PYG{k}{SELECT} \PYG{n}{IMO}\PYG{p}{,} \PYG{n}{tonnage} \PYG{k}{from} \PYG{l+s+ss}{`Ships`} \PYG{k}{order} \PYG{k}{by} \PYG{n}{tonnage} \PYG{k}{asc}\PYG{p}{;}
	\PYG{k}{DECLARE} \PYG{k}{CONTINUE} \PYG{n}{HANDLER} \PYG{k}{FOR} \PYG{k}{NOT} \PYG{n}{FOUND} \PYG{k+kt}{SET} \PYG{n}{done} \PYG{o}{=} \PYG{n+no}{TRUE}\PYG{p}{;}
    \PYG{n}{open} \PYG{n}{allShips}\PYG{p}{;}
    \PYG{n}{go}\PYG{p}{:} \PYG{k}{loop}
		\PYG{k}{fetch} \PYG{n}{allShips} \PYG{k}{into} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{,} \PYG{n}{s\PYGZus{}tonnage}\PYG{p}{;}
		\PYG{k}{if} \PYG{n}{done} \PYG{k}{then}
			\PYG{k}{leave} \PYG{n}{go}\PYG{p}{;}
		\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
		\PYG{k}{if} \PYG{n}{s\PYGZus{}missionLoad} \PYG{o}{\PYGZlt{}=} \PYG{n}{s\PYGZus{}tonnage} \PYG{k}{then}
			\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{into} \PYG{n}{notRental} \PYG{k}{from}\PYG{p}{(}\PYG{k}{select} \PYG{o}{*} \PYG{k}{from} \PYG{l+s+ss}{`ownShips`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{)} \PYG{k}{as} \PYG{n}{nr}\PYG{p}{;}
            \PYG{k}{if} \PYG{n}{notRental} \PYG{o}{=} \PYG{l+m+mi}{0} \PYG{k}{then}
				\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{into} \PYG{n}{shipNotAvailable} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{n}{rentStartDate}\PYG{p}{,} \PYG{n}{rentEndDate} \PYG{k}{from} \PYG{l+s+ss}{`rentalContracts`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO} \PYG{k}{and} \PYG{p}{((}\PYG{n}{rentStartDate} \PYG{o}{\PYGZgt{}} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k}{and} \PYG{n}{rentStartDate} \PYG{o}{\PYGZlt{}} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{)} \PYG{k}{or} \PYG{p}{(}\PYG{n}{rentEndDate} \PYG{o}{\PYGZgt{}} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k}{and} \PYG{n}{rentEndDate} \PYG{o}{\PYGZlt{}} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{)))} \PYG{k}{as} \PYG{n}{t1}\PYG{p}{;}
            \PYG{k}{else}
				\PYG{k}{select} \PYG{l+m+mi}{0} \PYG{k}{into} \PYG{n}{shipNotAvailable}\PYG{p}{;}
			\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
            
            
			\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{into} \PYG{n}{freeShip} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{n}{portCoordinates} \PYG{k}{from} \PYG{l+s+ss}{`wherePorted`} \PYG{k}{where} \PYG{n}{portCoordinates} \PYG{k}{like} \PYG{n}{n\PYGZus{}departurePortCoordinates} \PYG{k}{and} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO} \PYG{k}{and} \PYG{n}{IMO} \PYG{k}{not} \PYG{k}{in} \PYG{p}{(}\PYG{k}{select} \PYG{n}{IMO} \PYG{k}{from} \PYG{l+s+ss}{`Missions`} \PYG{k}{where} \PYG{p}{((}\PYG{n}{missionEndDate} \PYG{o}{\PYGZgt{}} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k}{and} \PYG{n}{missionEndDate} \PYG{o}{\PYGZlt{}} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{)} \PYG{k}{or} \PYG{p}{(}\PYG{n}{missionStartDate} \PYG{o}{\PYGZgt{}} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k}{and} \PYG{n}{missionStartDate} \PYG{o}{\PYGZlt{}} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{))} \PYG{k}{and} \PYG{n}{missionNo} \PYG{o}{!=} \PYG{n}{n\PYGZus{}missionNo}\PYG{p}{))} \PYG{k}{as} \PYG{n}{fs}\PYG{p}{;}
			\PYG{k}{if} \PYG{n}{shipNotAvailable} \PYG{o}{=} \PYG{l+m+mi}{0} \PYG{k}{and} \PYG{n}{freeShip} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{0} \PYG{k}{then}
				\PYG{k}{update} \PYG{l+s+ss}{`Missions`} \PYG{k+kt}{set} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{n\PYGZus{}missionNo}\PYG{p}{;}
                \PYG{k}{select} \PYG{n}{s\PYGZus{}IMO} \PYG{k}{into} \PYG{n}{c\PYGZus{}IMO}\PYG{p}{;}
                \PYG{k}{leave} \PYG{n}{go}\PYG{p}{;}
			\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
            
			\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{into} \PYG{n}{lastPortChecks} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{n}{portCoordinates} \PYG{k}{from} \PYG{l+s+ss}{`Ports`} \PYG{k}{where} \PYG{n}{portingDate} \PYG{o}{=} \PYG{p}{(}\PYG{k}{select} \PYG{n+nf}{max}\PYG{p}{(}\PYG{n}{portingDate}\PYG{p}{)} \PYG{k}{from} \PYG{l+s+ss}{`Ports`} \PYG{k}{where} \PYG{n}{DepartureArrival} \PYG{o}{=} \PYG{n+no}{false} \PYG{k}{and} \PYG{n}{missionNo} \PYG{k}{in} \PYG{p}{(}\PYG{k}{select} \PYG{n}{missionNo} \PYG{k}{from} \PYG{l+s+ss}{`Missions`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{)} \PYG{k}{and} \PYG{n}{portCoordinates} \PYG{k}{like} \PYG{n}{n\PYGZus{}departurePortCoordinates} \PYG{p}{)} \PYG{k}{and} \PYG{n}{missionNo} \PYG{o}{!=}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{)} \PYG{k}{as} \PYG{n}{t2}\PYG{p}{;}
			\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{into} \PYG{n}{missionConflict} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{o}{*} \PYG{k}{from} \PYG{l+s+ss}{`Ports`} \PYG{k}{where} \PYG{p}{(}\PYG{n}{DepartureArrival} \PYG{o}{=} \PYG{n+no}{false} \PYG{k}{and} \PYG{n}{portingDate} \PYG{o}{\PYGZgt{}} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k}{and} \PYG{n}{portingDate} \PYG{o}{\PYGZlt{}} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{)} \PYG{k}{and} \PYG{p}{(}\PYG{n}{DepartureArrival} \PYG{o}{=} \PYG{n+no}{true} \PYG{k}{and} \PYG{n}{portingDate} \PYG{o}{\PYGZgt{}} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k}{and} \PYG{n}{portingDate} \PYG{o}{\PYGZlt{}} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{)} \PYG{k}{and} \PYG{n}{missionNo} \PYG{o}{!=}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{)} \PYG{k}{as} \PYG{n}{t3}\PYG{p}{;}
            \PYG{k}{if} \PYG{n}{shipNotAvailable} \PYG{o}{=} \PYG{l+m+mi}{0} \PYG{k}{and} \PYG{n}{missionConflict} \PYG{o}{=} \PYG{l+m+mi}{0} \PYG{k}{and} \PYG{n}{lastPortChecks}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{0} \PYG{k}{then}
				\PYG{k}{update} \PYG{l+s+ss}{`Missions`} \PYG{k+kt}{set} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{n\PYGZus{}missionNo}\PYG{p}{;}
                \PYG{k}{select} \PYG{n}{s\PYGZus{}IMO} \PYG{k}{into} \PYG{n}{c\PYGZus{}IMO}\PYG{p}{;}
                \PYG{k}{leave} \PYG{n}{go}\PYG{p}{;}
			\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
            
        \PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
	\PYG{n}{end} \PYG{k}{loop} \PYG{n}{go}\PYG{p}{;}
	\PYG{n}{close} \PYG{n}{allShips}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteOwnShip}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteOwnShip`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`ownShips`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Ships`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteRentalShip}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteRentalShip`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`rentalShips`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Ships`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addRentalContract}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addRentalContract`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}registrationNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}rentalCompanyIVA} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}rentStartDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}rentEndDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}eSignature} \PYG{k+kt}{blob}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`rentalContracts`} \PYG{k}{values}\PYG{p}{(}\PYG{n}{n\PYGZus{}registrationNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}rentalCompanyIVA}\PYG{p}{,} \PYG{n}{n\PYGZus{}IMO}\PYG{p}{,} \PYG{n}{n\PYGZus{}rentStartDate}\PYG{p}{,} \PYG{n}{n\PYGZus{}rentEndDate}\PYG{p}{,} \PYG{n+no}{null}\PYG{p}{,} \PYG{n+no}{null}\PYG{p}{,} \PYG{n}{n\PYGZus{}eSignature}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyRentalContract}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyRentalContract`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}registrationNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}rentalCompanyIVA} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}rentStartDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}rentEndDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}eSignature} \PYG{k+kt}{blob}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`rentalContracts`} \PYG{k+kt}{set} \PYG{n}{registrationNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}registrationNo}\PYG{p}{,} \PYG{n}{rentalCompanyIVA} \PYG{o}{=} \PYG{n}{n\PYGZus{}rentalCompanyIVA}\PYG{p}{,} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{n\PYGZus{}IMO}\PYG{p}{,} \PYG{n}{rentStartDate} \PYG{o}{=} \PYG{n}{n\PYGZus{}rentStartDate}\PYG{p}{,} \PYG{n}{rentEndDate} \PYG{o}{=} \PYG{n}{n\PYGZus{}rentEndDate}\PYG{p}{,} \PYG{n}{eSignature} \PYG{o}{=} \PYG{n}{n\PYGZus{}eSignature}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteRentalContract}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteRentalContract`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}registrationNo} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`rentalContracts`} \PYG{k}{where} \PYG{n}{registrationNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}registrationNo}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyMission}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyMission`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionEndDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionLoad} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Missions`} \PYG{k+kt}{set}  \PYG{n}{missionStartDate} \PYG{o}{=} \PYG{n}{n\PYGZus{}missionStartDate}\PYG{p}{,} \PYG{n}{missionEndDate} \PYG{o}{=} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{,} \PYG{n}{missionLoad} \PYG{o}{=} \PYG{n}{n\PYGZus{}missionLoad} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
	\PYG{k}{call} \PYG{l+s+ss}{`addRoute`}\PYG{p}{(}\PYG{n}{s\PYGZus{}missionNo}\PYG{p}{);}
    \PYG{k}{call} \PYG{l+s+ss}{`addPort`}\PYG{p}{(}\PYG{n}{s\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}departurePortCoordinates}\PYG{p}{,} \PYG{n+no}{true}\PYG{p}{,} \PYG{n}{n\PYGZus{}departureProtingDate}\PYG{p}{);}
    \PYG{k}{call} \PYG{l+s+ss}{`addPort`}\PYG{p}{(}\PYG{n}{s\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}arrivalPortCoordinates}\PYG{p}{,} \PYG{n+no}{false}\PYG{p}{,} \PYG{n}{n\PYGZus{}arrivalProtingDate}\PYG{p}{);}
    \PYG{k}{call} \PYG{l+s+ss}{`chooseProperShip`}\PYG{p}{(}\PYG{n}{s\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionStartDate}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionLoad}\PYG{p}{,} \PYG{n}{n\PYGZus{}arrivalPortCoordinates}\PYG{p}{,} \PYG{n}{n\PYGZus{}departurePortCoordinates}\PYG{p}{,} \PYG{o}{@}\PYG{n}{c\PYGZus{}IMO}\PYG{p}{);}
	\PYG{k}{call} \PYG{l+s+ss}{`pickStaff`}\PYG{p}{(}\PYG{n}{s\PYGZus{}missionNo}\PYG{p}{,} \PYG{o}{@}\PYG{n}{c\PYGZus{}IMO}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionStartDate}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure pickStaff}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`pickStaff`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k+kt}{datetime}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionEndDate} \PYG{k+kt}{datetime}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{DECLARE} \PYG{n}{done} \PYG{k+kt}{INT} \PYG{k}{DEFAULT} \PYG{n+no}{FALSE}\PYG{p}{;}
	\PYG{k}{Declare} \PYG{n}{s\PYGZus{}id} \PYG{k+kt}{INT}\PYG{p}{;}
    \PYG{k}{declare} \PYG{n}{s\PYGZus{}qualifications} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{);}
    \PYG{k}{declare} \PYG{n}{s\PYGZus{}role} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{);}
	\PYG{k}{DECLARE} \PYG{n}{idRange} \PYG{k}{cursor} \PYG{k}{for} \PYG{k}{SELECT} \PYG{n}{e}\PYG{p}{.}\PYG{n}{id}\PYG{p}{,} \PYG{n}{e}\PYG{p}{.}\PYG{n}{qualifications}\PYG{p}{,} \PYG{n}{c}\PYG{p}{.}\PYG{n}{role} \PYG{k}{FROM} \PYG{l+s+ss}{`Employees`} \PYG{n}{e} \PYG{k}{inner} \PYG{k}{join} \PYG{l+s+ss}{`Crews`} \PYG{n}{c} \PYG{k}{on} \PYG{n}{c}\PYG{p}{.}\PYG{n}{crewType} \PYG{k}{in} \PYG{p}{(}\PYG{k}{select} \PYG{n}{crewType} \PYG{k}{from} \PYG{l+s+ss}{`haveCrew`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{n\PYGZus{}IMO}\PYG{p}{)} \PYG{k}{and} \PYG{n}{e}\PYG{p}{.}\PYG{n}{qualifications} \PYG{k}{like} \PYG{n}{c}\PYG{p}{.}\PYG{n}{qualifications}\PYG{p}{;}
	\PYG{k}{DECLARE} \PYG{k}{CONTINUE} \PYG{n}{HANDLER} \PYG{k}{FOR} \PYG{k}{NOT} \PYG{n}{FOUND} \PYG{k+kt}{SET} \PYG{n}{done} \PYG{o}{=} \PYG{n+no}{TRUE}\PYG{p}{;}
    \PYG{n}{OPEN} \PYG{n}{idRange}\PYG{p}{;}
    \PYG{n}{outer\PYGZus{}loop}\PYG{p}{:} \PYG{k}{LOOP}
		\PYG{k}{FETCH} \PYG{n}{idRange} \PYG{k}{into} \PYG{n}{s\PYGZus{}id}\PYG{p}{,} \PYG{n}{s\PYGZus{}qualifications}\PYG{p}{,} \PYG{n}{s\PYGZus{}role}\PYG{p}{;}
		\PYG{k}{IF} \PYG{n}{done} \PYG{k}{THEN}
			\PYG{k}{LEAVE} \PYG{n}{outer\PYGZus{}loop}\PYG{p}{;}
		\PYG{n}{END} \PYG{k}{IF}\PYG{p}{;}
        \PYG{n}{employeeAvailability}\PYG{p}{:} \PYG{n}{begin}
			\PYG{k}{declare} \PYG{n}{done2} \PYG{k+kt}{INT} \PYG{k}{DEFAULT} \PYG{n+no}{FALSE}\PYG{p}{;}
            \PYG{k}{declare} \PYG{n}{timeDescrepency} \PYG{k+kt}{int} \PYG{k}{default} \PYG{n+no}{false}\PYG{p}{;}
            \PYG{k}{declare} \PYG{n}{filledVacancies} \PYG{k+kt}{int}\PYG{p}{;}
            \PYG{k}{declare} \PYG{n}{totalVacancies} \PYG{k+kt}{int}\PYG{p}{;}
            \PYG{k}{declare} \PYG{n}{MED} \PYG{k+kt}{datetime}\PYG{p}{;}
			\PYG{k}{declare} \PYG{n}{MEDs} \PYG{k}{cursor} \PYG{k}{for} \PYG{k}{SELECT} \PYG{n}{missionEndDate} \PYG{k}{from} \PYG{l+s+ss}{`Missions`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{k}{in} \PYG{p}{(}\PYG{k}{select} \PYG{n}{missionNo} \PYG{k}{from} \PYG{l+s+ss}{`haveStaff`} \PYG{k}{where} \PYG{n}{id} \PYG{o}{=} \PYG{n}{s\PYGZus{}id}\PYG{p}{);}
            \PYG{k}{DECLARE} \PYG{k}{CONTINUE} \PYG{n}{HANDLER} \PYG{k}{FOR} \PYG{k}{NOT} \PYG{n}{FOUND} \PYG{k+kt}{SET} \PYG{n}{done2} \PYG{o}{=} \PYG{n+no}{TRUE}\PYG{p}{;}
			\PYG{n}{open} \PYG{n}{MEDs}\PYG{p}{;}
			\PYG{n}{inner\PYGZus{}loop}\PYG{p}{:} \PYG{k}{loop}
				\PYG{k}{fetch} \PYG{n}{MEDS} \PYG{k}{into} \PYG{n}{MED}\PYG{p}{;}
				\PYG{k}{if} \PYG{n}{done2} \PYG{k}{then}
					\PYG{k}{leave} \PYG{n}{inner\PYGZus{}loop}\PYG{p}{;}
				\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
				\PYG{k}{IF} \PYG{p}{(}\PYG{n}{MED} \PYG{o}{\PYGZgt{}} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k}{and} \PYG{n}{MED} \PYG{o}{\PYGZlt{}} \PYG{n}{n\PYGZus{}missionEndDate}\PYG{p}{)}  \PYG{k}{THEN}
					\PYG{k+kt}{set} \PYG{n}{timeDescrepency} \PYG{o}{=} \PYG{n+no}{true}\PYG{p}{;}
                    \PYG{k}{leave} \PYG{n}{inner\PYGZus{}loop}\PYG{p}{;}
				\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
        \PYG{n}{end} \PYG{k}{loop}\PYG{p}{;}
        \PYG{k}{if} \PYG{k}{not} \PYG{n}{timeDescrepency} \PYG{k}{then}
			\PYG{k}{select} \PYG{n}{vacancies} \PYG{k}{into} \PYG{n}{filledVacancies} \PYG{k}{from} \PYG{l+s+ss}{`Crews`} \PYG{k}{where} \PYG{n}{qualifications} \PYG{k}{like} \PYG{n}{s\PYGZus{}qualifications} \PYG{k}{and} \PYG{n}{crewType} \PYG{o}{=} \PYG{p}{(}\PYG{k}{select} \PYG{n}{crewType} \PYG{k}{from} \PYG{l+s+ss}{`haveCrew`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{n\PYGZus{}IMO}\PYG{p}{);}
			\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{into} \PYG{n}{totalVacancies} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{n}{id} \PYG{k}{from} \PYG{l+s+ss}{`haveStaff`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{n\PYGZus{}MissionNo} \PYG{k}{and} \PYG{n}{id} \PYG{o}{=} \PYG{n+nf}{any} \PYG{p}{(}\PYG{k}{select} \PYG{n}{id} \PYG{k}{from} \PYG{l+s+ss}{`Employees`} \PYG{k}{where} \PYG{n}{qualifications}\PYG{o}{=}\PYG{n}{s\PYGZus{}qualifications}\PYG{p}{))} \PYG{k}{as} \PYG{n}{idd}\PYG{p}{;}
            \PYG{k+kt}{set} \PYG{o}{@}\PYG{n}{vacancyCheck} \PYG{p}{:}\PYG{o}{=} \PYG{n}{filledVacancies} \PYG{o}{\PYGZhy{}} \PYG{n}{totalVacancies}\PYG{p}{;}
            \PYG{k}{if} \PYG{o}{@}\PYG{n}{vacancyCheck} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{0} \PYG{k}{then}
				\PYG{k}{INSERT} \PYG{k}{INTO} \PYG{n+nf}{haveStaff} \PYG{p}{(}\PYG{n}{id}\PYG{p}{,} \PYG{n}{missionNo}\PYG{p}{,} \PYG{n}{role}\PYG{p}{,} \PYG{n}{qualifications}\PYG{p}{)} \PYG{k}{VALUES} \PYG{p}{(}\PYG{n}{s\PYGZus{}id}\PYG{p}{,} \PYG{n}{n\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{s\PYGZus{}role}\PYG{p}{,} \PYG{n}{s\PYGZus{}qualifications}\PYG{p}{);}
			\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
		\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
        \PYG{n}{end} \PYG{n}{employeeAvailability}\PYG{p}{;}
	\PYG{n}{END} \PYG{k}{LOOP}\PYG{p}{;}
	\PYG{n}{CLOSE} \PYG{n}{idRange}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteMission}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteMission`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
    \PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Ports`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
    \PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Points`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
    \PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Routes`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
    \PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Containers`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
    \PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`haveStaff`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Missions`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyContainer}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyContainer`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}containerNo} \PYG{k+kt}{int}\PYG{p}{,}  \PYG{k}{in} \PYG{n}{n\PYGZus{}contentType} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}ownerData} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`Containers`} \PYG{k+kt}{set} \PYG{n}{containerNo} \PYG{o}{=} \PYG{n}{n\PYGZus{}containerNo}\PYG{p}{,} \PYG{n}{contentType} \PYG{o}{=} \PYG{n}{n\PYGZus{}contentType}\PYG{p}{,} \PYG{n}{ownerData} \PYG{o}{=} \PYG{n}{n\PYGZus{}ownerData} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{n\PYGZus{}missionNo}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteContainer}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteContainer`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{s\PYGZus{}containerNo} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Containers`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo} \PYG{k}{and} \PYG{n}{containerNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}containerNo}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addCarriageContract}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addCarriageContract`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}customerIVA} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}price} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}eSignature} \PYG{k+kt}{blob}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}contractStatus} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`carriageContracts`} \PYG{k}{values}\PYG{p}{(}\PYG{n}{n\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{n\PYGZus{}customerIVA}\PYG{p}{,} \PYG{n+nf}{now}\PYG{p}{(),} \PYG{n}{n\PYGZus{}Price}\PYG{p}{,} \PYG{n}{n\PYGZus{}eSignature}\PYG{p}{,} \PYG{n}{n\PYGZus{}contractStatus}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyCarriageContract}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyCarriageContract`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}customerIVA} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}price} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}eSignature} \PYG{k+kt}{blob}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}contractStatus} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`carriageContracts`} \PYG{k+kt}{set} \PYG{n}{customerIVA} \PYG{o}{=} \PYG{n}{n\PYGZus{}customerIVA}\PYG{p}{,} \PYG{n}{stipulationDate} \PYG{o}{=} \PYG{n+nf}{now}\PYG{p}{(),} \PYG{n}{price} \PYG{o}{=} \PYG{n}{n\PYGZus{}Price}\PYG{p}{,} \PYG{n}{eSignature} \PYG{o}{=} \PYG{n}{n\PYGZus{}eSignature}\PYG{p}{,} \PYG{n}{contractStatus} \PYG{o}{=} \PYG{n}{n\PYGZus{}contractStatus} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addCustomer}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addCustomer`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}customerIVA} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}customerName} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`Customers`} \PYG{k}{values}\PYG{p}{(}\PYG{n}{n\PYGZus{}customerIVA}\PYG{p}{,} \PYG{n}{n\PYGZus{}customerName}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyCustomer}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyCustomer`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}customerIVA} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}customerName} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`Customers`} \PYG{k+kt}{set}  \PYG{n}{customerName} \PYG{o}{=} \PYG{n}{n\PYGZus{}customerName} \PYG{k}{where} \PYG{n}{customerIVA} \PYG{k}{like} \PYG{n}{s\PYGZus{}customerIVA}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteCustomer}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteCustomer`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}customerIVA} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{declare} \PYG{n}{customerMission} \PYG{k+kt}{int}\PYG{p}{;}
	\PYG{k}{declare} \PYG{n}{done} \PYG{k+kt}{int} \PYG{k}{default} \PYG{n+no}{false}\PYG{p}{;}
	\PYG{k}{declare} \PYG{n}{customerMissions} \PYG{k}{cursor} \PYG{k}{for} \PYG{k}{select} \PYG{n}{missionNo} \PYG{k}{from}  \PYG{l+s+ss}{`carriageContracts`} \PYG{k}{where} \PYG{n}{customerIVA} \PYG{k}{like} \PYG{n}{s\PYGZus{}customerIVA}\PYG{p}{;}
	\PYG{k}{declare} \PYG{k}{continue} \PYG{n}{handler} \PYG{k}{for} \PYG{k}{not} \PYG{n}{found} \PYG{k+kt}{set} \PYG{n}{done} \PYG{o}{=} \PYG{n+no}{true}\PYG{p}{;}
	\PYG{n}{open} \PYG{n}{customerMissions}\PYG{p}{;}
	\PYG{n}{go}\PYG{p}{:} \PYG{k}{loop}
		\PYG{k}{fetch} \PYG{n}{customerMissions} \PYG{k}{into} \PYG{n}{customerMission}\PYG{p}{;}
		\PYG{k}{if} \PYG{n}{done} \PYG{k}{then}
			\PYG{k}{leave} \PYG{n}{go}\PYG{p}{;}
		\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
		\PYG{k}{call} \PYG{l+s+ss}{`deleteCarriageContract`}\PYG{p}{(}\PYG{n}{customerMission}\PYG{p}{);}
		\PYG{k}{call} \PYG{l+s+ss}{`deleteMission`}\PYG{p}{(}\PYG{n}{customerMission}\PYG{p}{);}
	\PYG{n}{end} \PYG{k}{loop} \PYG{n}{go}\PYG{p}{;}
	\PYG{n}{close} \PYG{n}{customerMissions}\PYG{p}{;}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Customers`} \PYG{k}{where} \PYG{n}{customerIVa} \PYG{k}{like} \PYG{n}{s\PYGZus{}customerIVA}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addRentalCompany}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addRentalCompany`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}rentalCompanyIVA} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}rentalCompanyName} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`rentalCompanies`} \PYG{k}{values} \PYG{p}{(}\PYG{n}{n\PYGZus{}rentalCompanyIVA}\PYG{p}{,} \PYG{n}{n\PYGZus{}rentalCompanyName}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyRentalCompany}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyRentalCompany`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}crewType} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{s\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`rentalCompanies`} \PYG{k+kt}{set} \PYG{n}{crewType} \PYG{o}{=} \PYG{n}{n\PYGZus{}crewType} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteRentalCompany}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteRentalCompany`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}rentalCompanyIVA} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`rentalCompanies`} \PYG{k}{where}  \PYG{n}{rentalCompanyIVA} \PYG{k}{like} \PYG{n}{s\PYGZus{}rentalCompanyIVA}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addEmployee}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addEmployee`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}id} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}employeeName} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}qualifications} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`Employees`} \PYG{k}{values}\PYG{p}{(}\PYG{n}{n\PYGZus{}id}\PYG{p}{,} \PYG{n}{n\PYGZus{}employeeName}\PYG{p}{,} \PYG{n}{n\PYGZus{}qualifications}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyEmployee}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyEmployee`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}id} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}employeeName} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}qualifications} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`Employees`} \PYG{k+kt}{set} \PYG{n}{employeeName} \PYG{o}{=} \PYG{n}{n\PYGZus{}employeeName}\PYG{p}{,} \PYG{n}{qualifications} \PYG{o}{=} \PYG{n}{n\PYGZus{}qualifications} \PYG{k}{where} \PYG{n}{id} \PYG{o}{=} \PYG{n}{s\PYGZus{}id}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteEmployee}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteEmployee`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}id} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Employees`} \PYG{k}{where} \PYG{n}{id} \PYG{o}{=} \PYG{n}{s\PYGZus{}id}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure detectCollision}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`detectCollision`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k+kt}{datetime}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{declare} \PYG{n}{done1} \PYG{k+kt}{int} \PYG{k}{default} \PYG{n+no}{false}\PYG{p}{;}
	\PYG{k}{declare} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{;}
	\PYG{k}{declare} \PYG{n}{s\PYGZus{}missionStartDate} \PYG{k+kt}{int}\PYG{p}{;}
	\PYG{k}{declare} \PYG{n}{s\PYGZus{}missionEndDate} \PYG{k+kt}{int}\PYG{p}{;}
	\PYG{k}{declare} \PYG{n}{e\PYGZus{}Missions} \PYG{k}{cursor} \PYG{k}{for} \PYG{k}{select} \PYG{n}{missionNo}\PYG{p}{,} \PYG{n}{missionStartDate}\PYG{p}{,} \PYG{n}{missionEndDate} \PYG{k}{from} \PYG{l+s+ss}{`Missions`} \PYG{k}{where} \PYG{n}{missionEndDate} \PYG{o}{\PYGZgt{}} \PYG{n}{n\PYGZus{}missionStartDate} \PYG{k}{and} \PYG{n+nf}{TIMESTAMPDIFF}\PYG{p}{(}\PYG{n}{MINUTE}\PYG{p}{,}\PYG{n}{n\PYGZus{}missionStartDate}\PYG{p}{,}\PYG{n}{missionEndDate}\PYG{p}{)} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{60}\PYG{p}{;}
    \PYG{k}{declare} \PYG{k}{continue} \PYG{n}{handler} \PYG{k}{for} \PYG{k}{not} \PYG{n}{found} \PYG{k+kt}{set} \PYG{n}{done1} \PYG{o}{=} \PYG{n+no}{true}\PYG{p}{;}
    \PYG{n}{open} \PYG{n}{e\PYGZus{}Missions}\PYG{p}{;}
    \PYG{n}{go}\PYG{p}{:} \PYG{k}{loop}
		\PYG{k}{fetch} \PYG{n}{e\PYGZus{}Missions} \PYG{k}{into} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{,} \PYG{n}{s\PYGZus{}missionStartDate}\PYG{p}{,} \PYG{n}{s\PYGZus{}missionEndDate}\PYG{p}{;}
		\PYG{k}{if} \PYG{n}{done1} \PYG{k}{then}
			\PYG{k}{leave} \PYG{n}{go}\PYG{p}{;}
		\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
        \PYG{k+kt}{set} \PYG{o}{@}\PYG{n}{CollisionNo} \PYG{o}{=} \PYG{p}{(}\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{from}\PYG{p}{(}\PYG{k}{select} \PYG{o}{*} \PYG{k}{from} \PYG{l+s+ss}{`Ports`} \PYG{k}{inner} \PYG{k}{join} \PYG{p}{(}\PYG{k}{select} \PYG{o}{*} \PYG{k}{from} \PYG{l+s+ss}{`Ports`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{n\PYGZus{}missionNo}\PYG{p}{)} \PYG{k}{as} \PYG{n}{this} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo} \PYG{k}{and} \PYG{n}{portCoordinates} \PYG{k}{like} \PYG{n}{this}\PYG{p}{.}\PYG{n}{portCoordinates} \PYG{p}{)} \PYG{k}{as} \PYG{n}{collisions}\PYG{p}{);}
        \PYG{k}{if} \PYG{o}{@}\PYG{n}{CollisionNo} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{0} \PYG{k}{then}
			\PYG{k+kt}{set} \PYG{o}{@}\PYG{n}{message} \PYG{o}{=} \PYG{n+nf}{concat}\PYG{p}{(}\PYG{o}{@}\PYG{n}{CollisionNo}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{} risks of collision detected\PYGZsq{}}\PYG{p}{);}
			\PYG{n}{signal} \PYG{k}{sqlstate} \PYG{l+s+s1}{\PYGZsq{}45000\PYGZsq{}} \PYG{k+kt}{set} \PYG{n}{message\PYGZus{}text} \PYG{o}{=} \PYG{o}{@}\PYG{n}{message}\PYG{p}{;}
		\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
	\PYG{n}{end} \PYG{k}{loop}\PYG{p}{;}
    \PYG{n}{close} \PYG{n}{e\PYGZus{}Missions}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure calculateTurnover}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`calculateTurnover`}\PYG{p}{(}\PYG{k}{out} \PYG{n}{turnover} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{declare} \PYG{n}{wins} \PYG{k+kt}{int} \PYG{k}{default} \PYG{l+m+mi}{0}\PYG{p}{;}
	\PYG{k}{declare} \PYG{n}{done} \PYG{k+kt}{int} \PYG{k}{default} \PYG{n+no}{false}\PYG{p}{;}
    \PYG{k}{declare} \PYG{n}{s\PYGZus{}price} \PYG{k+kt}{int}\PYG{p}{;}
    \PYG{k}{declare} \PYG{n}{e\PYGZus{}cc} \PYG{k}{cursor} \PYG{k}{for} \PYG{k}{select} \PYG{n}{price} \PYG{k}{from} \PYG{l+s+ss}{`carriageContracts`} \PYG{k}{where} \PYG{n+nf}{timestampdiff}\PYG{p}{(}\PYG{n}{day}\PYG{p}{,}\PYG{n}{stipulationDate}\PYG{p}{,} \PYG{n+nf}{now}\PYG{p}{())} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{30}\PYG{p}{;}
    \PYG{k}{declare} \PYG{k}{continue} \PYG{n}{handler} \PYG{k}{for} \PYG{k}{not} \PYG{n}{found} \PYG{k+kt}{set} \PYG{n}{done} \PYG{o}{=} \PYG{n+no}{true}\PYG{p}{;}
    \PYG{n}{open} \PYG{n}{e\PYGZus{}cc}\PYG{p}{;}
    \PYG{n}{go}\PYG{p}{:} \PYG{k}{loop}
		\PYG{k}{fetch} \PYG{n}{e\PYGZus{}cc} \PYG{k}{into} \PYG{n}{s\PYGZus{}price}\PYG{p}{;}
        \PYG{k}{if} \PYG{n}{done} \PYG{k}{then}
			\PYG{k}{leave} \PYG{n}{go}\PYG{p}{;}
		\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
        \PYG{k+kt}{set} \PYG{n}{wins} \PYG{o}{=} \PYG{n}{wins} \PYG{o}{+} \PYG{n}{s\PYGZus{}price}\PYG{p}{;}
    \PYG{n}{end} \PYG{k}{loop}\PYG{p}{;}
    \PYG{n}{close} \PYG{n}{e\PYGZus{}cc}\PYG{p}{;}
    \PYG{k+kt}{set} \PYG{n}{turnover} \PYG{o}{=} \PYG{n}{wins}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure checkPersonnelNo}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`checkPersonnelNo`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k+kt}{set} \PYG{o}{@}\PYG{n}{personnelCount} \PYG{o}{=} \PYG{p}{(}\PYG{k}{select} \PYG{n+nf}{COUNT}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{n}{id} \PYG{k}{from} \PYG{l+s+ss}{`haveStaff`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{)} \PYG{k}{as} \PYG{n}{idd}\PYG{p}{);}
    \PYG{k}{if} \PYG{o}{@}\PYG{n}{personnelCount} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{30} \PYG{k}{or} \PYG{o}{@}\PYG{n}{personnelCount} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{20} \PYG{k}{then}
		\PYG{n}{signal} \PYG{k}{sqlstate} \PYG{l+s+s1}{\PYGZsq{}45000\PYGZsq{}} \PYG{k+kt}{set} \PYG{n}{message\PYGZus{}text} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}irregular crew count\PYGZsq{}}\PYG{p}{;}
	\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure setMissionValidity}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`setMissionValidity`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{declare} \PYG{n}{s\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{;}
	\PYG{k+kt}{set} \PYG{n}{s\PYGZus{}IMO} \PYG{o}{=} \PYG{p}{(}\PYG{k}{select} \PYG{n}{IMO} \PYG{k}{from} \PYG{l+s+ss}{`Missions`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{);}
	\PYG{k}{update} \PYG{l+s+ss}{`Missions`} \PYG{k+kt}{set} \PYG{n}{missionValidity} \PYG{o}{=} \PYG{n+no}{true} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO} \PYG{k}{and} \PYG{n}{missionLoad} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{80}\PYG{o}{*}\PYG{p}{(}\PYG{k}{select} \PYG{n}{tonnage} \PYG{k}{from} \PYG{l+s+ss}{`Ships`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{)}\PYG{o}{/}\PYG{l+m+mi}{100}\PYG{p}{;}
	\PYG{k}{update} \PYG{l+s+ss}{`Missions`} \PYG{k+kt}{set} \PYG{n}{missionValidity} \PYG{o}{=} \PYG{n+no}{false} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO} \PYG{k}{and} \PYG{n}{missionLoad} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{80}\PYG{o}{*}\PYG{p}{(}\PYG{k}{select} \PYG{n}{tonnage} \PYG{k}{from} \PYG{l+s+ss}{`Ships`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{)}\PYG{o}{/}\PYG{l+m+mi}{100}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure triggerEffectivePorting}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`triggerEffectivePorting`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{s\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}portCoordinates} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{))}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`Ports`} \PYG{k+kt}{set} \PYG{n}{portingDate} \PYG{o}{=} \PYG{n+nf}{now}\PYG{p}{(),} \PYG{n}{effectivelyPorted} \PYG{o}{=} \PYG{n+no}{true} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{n\PYGZus{}missionNo} \PYG{k}{and} \PYG{n}{portCoordinates} \PYG{k}{like} \PYG{n}{n\PYGZus{}portCoordinates}\PYG{p}{;}
	\PYG{k+kt}{set} \PYG{o}{@}\PYG{n}{departureArrival} \PYG{o}{=} \PYG{p}{(}\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{n}{departureArrival} \PYG{k}{from} \PYG{l+s+ss}{`Ports`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{n\PYGZus{}missionNo} \PYG{k}{and} \PYG{n}{portCoordinates} \PYG{k}{like} \PYG{n}{n\PYGZus{}portCoordinates} \PYG{k}{and} \PYG{n}{departureArrival} \PYG{o}{=} \PYG{n+no}{false}\PYG{p}{)} \PYG{k}{as} \PYG{n}{da}\PYG{p}{);}
	\PYG{k}{if} \PYG{o}{@}\PYG{n}{departureArrival} \PYG{o}{=} \PYG{l+m+mi}{1} \PYG{k}{then}
        \PYG{k}{update} \PYG{l+s+ss}{`wherePorted`} \PYG{k+kt}{set} \PYG{n}{portCoordinates} \PYG{o}{=} \PYG{n}{n\PYGZus{}portCoordinates}\PYG{p}{,} \PYG{n}{ported} \PYG{o}{=} \PYG{n+no}{true} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
	\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure checkMissionCount}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`checkMissionCount`}\PYG{p}{()}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k+kt}{set} \PYG{o}{@}\PYG{n}{missionCount} \PYG{o}{=} \PYG{p}{(}\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{n}{missionStartDate} \PYG{k}{from} \PYG{l+s+ss}{`Missions`} \PYG{k}{where} \PYG{p}{(}\PYG{n+nf}{TIMESTAMPDIFF}\PYG{p}{(}\PYG{n}{month}\PYG{p}{,} \PYG{n}{missionStartDate}\PYG{p}{,}  \PYG{n+nf}{now}\PYG{p}{())}\PYG{o}{\PYGZlt{}=}\PYG{l+m+mi}{12}\PYG{p}{))} \PYG{k}{as} \PYG{n}{mC}\PYG{p}{);}
    \PYG{k}{if} \PYG{o}{@}\PYG{n}{missionCount} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{110} \PYG{k}{then}
		\PYG{n}{signal} \PYG{k}{sqlstate} \PYG{l+s+s1}{\PYGZsq{}45000\PYGZsq{}} \PYG{k+kt}{set} \PYG{n}{message\PYGZus{}text} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}you are exceeding the missions quota of the year\PYGZsq{}}\PYG{p}{;}
	\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addCrewTypeAssociation}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addCrewTypeAssociation`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}crewType} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`haveCrew`} \PYG{k}{values} \PYG{p}{(}\PYG{n}{n\PYGZus{}crewType}\PYG{p}{,} \PYG{n}{n\PYGZus{}IMO}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyCrewTypeAssociation}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyCrewTypeAssociation`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}crewType} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{s\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update} \PYG{l+s+ss}{`haveCrew`} \PYG{k+kt}{set} \PYG{n}{crewType} \PYG{o}{=} \PYG{n}{n\PYGZus{}crewType} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteCrewTypeAssociation}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteCrewTypeAssociation`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}IMO} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`haveCrew`} \PYG{k}{where}  \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{s\PYGZus{}IMO}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure addCrewTypeRole}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addCrewTypeRole`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{n\PYGZus{}crewType} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}role} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}qualifications} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}certificate} \PYG{k}{binary}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}vacancies} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}salary} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{insert} \PYG{k}{into} \PYG{l+s+ss}{`Crews`} \PYG{k}{values}\PYG{p}{(}\PYG{n}{n\PYGZus{}crewType}\PYG{p}{,} \PYG{n}{n\PYGZus{}role}\PYG{p}{,} \PYG{n}{n\PYGZus{}qualifications}\PYG{p}{,} \PYG{n}{n\PYGZus{}certificate}\PYG{p}{,} \PYG{n}{n\PYGZus{}vacancies}\PYG{p}{,} \PYG{n}{n\PYGZus{}salary}\PYG{p}{);}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteCarriageContract}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteCarriageContract`}\PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}missionNo} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{call} \PYG{l+s+ss}{`deleteMission`}\PYG{p}{(}\PYG{n}{s\PYGZus{}missionNo}\PYG{p}{);}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`carriageContracts`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{s\PYGZus{}missionNo}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure modifyCrewTypeRole}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`modifyCrewTypeRole`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}crewType} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}role} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}qualifications} \PYG{k+kt}{varchar}\PYG{p}{(}\PYG{l+m+mi}{45}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}certificate} \PYG{k}{binary}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{),} \PYG{k}{in} \PYG{n}{n\PYGZus{}vacancies} \PYG{k+kt}{int}\PYG{p}{,} \PYG{k}{in} \PYG{n}{n\PYGZus{}salary} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{update}\PYG{l+s+ss}{`Crews`} \PYG{k+kt}{set} \PYG{n}{role} \PYG{o}{=} \PYG{n}{n\PYGZus{}role}\PYG{p}{,} \PYG{n}{qualifications} \PYG{o}{=} \PYG{n}{n\PYGZus{}qualifications}\PYG{p}{,} \PYG{n}{certificate} \PYG{o}{=} \PYG{n}{n\PYGZus{}certificate}\PYG{p}{,} \PYG{n}{vacancies} \PYG{o}{=} \PYG{n}{n\PYGZus{}vacancies}\PYG{p}{,} \PYG{n}{salary} \PYG{o}{=} \PYG{n}{n\PYGZus{}salary} \PYG{k}{where} \PYG{n}{crewType} \PYG{o}{=} \PYG{n}{n\PYGZus{}crewType}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} procedure deleteCrewTypeRole}
\PYG{c+c1}{\PYGZhy{}\PYGZhy{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{create} \PYG{k}{procedure} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`deleteCrewTypeRole`} \PYG{p}{(}\PYG{k}{in} \PYG{n}{s\PYGZus{}crewType} \PYG{k+kt}{int}\PYG{p}{)}
\PYG{k}{reads} \PYG{k}{sql} \PYG{n}{data}
\PYG{n}{begin}
	\PYG{k}{delete} \PYG{k}{from} \PYG{l+s+ss}{`Crews`} \PYG{k}{where} \PYG{n}{crewType} \PYG{o}{=} \PYG{n}{s\PYGZus{}crewType}\PYG{p}{;}
\PYG{n}{end}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{n}{DELIMITER} \PYG{p}{;}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{;}

\PYG{n}{DELIMITER} \PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{n}{DEFINER} \PYG{o}{=} \PYG{k}{CURRENT\PYGZus{}USER} \PYG{k}{TRIGGER} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`checkRentalShipsNumber`} \PYG{k}{BEFORE} \PYG{k}{INSERT} \PYG{k}{ON} \PYG{l+s+ss}{`rentalShips`} \PYG{k}{FOR} \PYG{k}{EACH} \PYG{n}{ROW}
\PYG{n}{BEGIN}
	\PYG{k}{if} \PYG{p}{(}\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{o}{*} \PYG{k}{from} \PYG{l+s+ss}{`rentalShips`} \PYG{k}{where} \PYG{n}{IMO} \PYG{k}{in} \PYG{p}{(}\PYG{k}{select} \PYG{n}{IMO} \PYG{k}{from} \PYG{l+s+ss}{`Missions`} \PYG{k}{where} \PYG{n}{missionEndDate} \PYG{o}{\PYGZgt{}} \PYG{n+nf}{NOW}\PYG{p}{()))} \PYG{k}{as} \PYG{n}{shipsNumber}\PYG{p}{)} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{20} \PYG{k}{then}
		\PYG{n}{signal} \PYG{k}{sqlstate} \PYG{l+s+s1}{\PYGZsq{}45000\PYGZsq{}}
        \PYG{k+kt}{SET} \PYG{n}{MESSAGE\PYGZus{}TEXT} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}you can not have more than 20 active rental ships\PYGZsq{}}\PYG{p}{;}
	\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
	\PYG{k}{if} \PYG{p}{(}\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{o}{*} \PYG{k}{from} \PYG{l+s+ss}{`ownShips`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{new}\PYG{p}{.}\PYG{n}{IMO}\PYG{p}{)} \PYG{k}{as} \PYG{n}{shipsNumber}\PYG{p}{)} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{0} \PYG{k}{then}
		\PYG{n}{signal} \PYG{k}{sqlstate} \PYG{l+s+s1}{\PYGZsq{}45000\PYGZsq{}}
        \PYG{k+kt}{SET} \PYG{n}{MESSAGE\PYGZus{}TEXT} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}this is a company ship\PYGZsq{}}\PYG{p}{;}
	\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{n}{DEFINER} \PYG{o}{=} \PYG{k}{CURRENT\PYGZus{}USER} \PYG{k}{TRIGGER} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`checkOwnShipsNumber`} \PYG{k}{BEFORE} \PYG{k}{INSERT} \PYG{k}{ON} \PYG{l+s+ss}{`ownShips`} \PYG{k}{FOR} \PYG{k}{EACH} \PYG{n}{ROW}
\PYG{n}{BEGIN}
	\PYG{k}{if} \PYG{p}{(}\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{o}{*} \PYG{k}{from} \PYG{l+s+ss}{`ownShips`}\PYG{p}{)} \PYG{k}{as} \PYG{n}{shipsNumber}\PYG{p}{)} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{10} \PYG{k}{then}
		\PYG{n}{signal} \PYG{k}{sqlstate} \PYG{l+s+s1}{\PYGZsq{}45000\PYGZsq{}}
        \PYG{k+kt}{SET} \PYG{n}{MESSAGE\PYGZus{}TEXT} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}you can not insert more than 10 ships\PYGZsq{}}\PYG{p}{;}
	\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
    \PYG{k}{if} \PYG{p}{(}\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{o}{*} \PYG{k}{from} \PYG{l+s+ss}{`rentalShips`} \PYG{k}{where} \PYG{n}{IMO} \PYG{o}{=} \PYG{n}{new}\PYG{p}{.}\PYG{n}{IMO}\PYG{p}{)} \PYG{k}{as} \PYG{n}{shipsNumber}\PYG{p}{)} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{0} \PYG{k}{then}
		\PYG{n}{signal} \PYG{k}{sqlstate} \PYG{l+s+s1}{\PYGZsq{}45000\PYGZsq{}}
        \PYG{k+kt}{SET} \PYG{n}{MESSAGE\PYGZus{}TEXT} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}this is a rental ship\PYGZsq{}}\PYG{p}{;}
	\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{n}{DEFINER} \PYG{o}{=} \PYG{k}{CURRENT\PYGZus{}USER} \PYG{k}{TRIGGER} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addRenatlShipAvailability`} \PYG{k}{BEFORE} \PYG{k}{INSERT} \PYG{k}{ON} \PYG{l+s+ss}{`rentalContracts`} \PYG{k}{FOR} \PYG{k}{EACH} \PYG{n}{ROW} 
\PYG{n}{BEGIN}
	\PYG{k+kt}{set} \PYG{n}{new}\PYG{p}{.}\PYG{n}{availability} \PYG{o}{=} \PYG{n+nf}{TIMESTAMPDIFF}\PYG{p}{(}\PYG{n}{hour}\PYG{p}{,} \PYG{n}{new}\PYG{p}{.}\PYG{n}{rentStartDate}\PYG{p}{,} \PYG{n}{new}\PYG{p}{.}\PYG{n}{rentEndDate}\PYG{p}{);}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{n}{DEFINER} \PYG{o}{=} \PYG{k}{CURRENT\PYGZus{}USER} \PYG{k}{TRIGGER} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`addStipulationDate`} \PYG{k}{BEFORE} \PYG{k}{INSERT} \PYG{k}{ON} \PYG{l+s+ss}{`rentalContracts`} \PYG{k}{FOR} \PYG{k}{EACH} \PYG{n}{ROW}
\PYG{n}{BEGIN}
	\PYG{k+kt}{set} \PYG{n}{new}\PYG{p}{.}\PYG{n}{stipulationDate} \PYG{o}{=} \PYG{n+nf}{NOW}\PYG{p}{();}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{n}{DEFINER} \PYG{o}{=} \PYG{k}{CURRENT\PYGZus{}USER} \PYG{k}{TRIGGER} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`updateStipulationDate`} \PYG{k}{BEFORE} \PYG{k}{UPDATE} \PYG{k}{ON} \PYG{l+s+ss}{`rentalContracts`} \PYG{k}{FOR} \PYG{k}{EACH} \PYG{n}{ROW}
\PYG{n}{BEGIN}
	\PYG{k+kt}{set} \PYG{n}{new}\PYG{p}{.}\PYG{n}{stipulationDate} \PYG{o}{=} \PYG{n+nf}{NOW}\PYG{p}{();}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{n}{DEFINER} \PYG{o}{=} \PYG{k}{CURRENT\PYGZus{}USER} \PYG{k}{TRIGGER} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`updateRenatlShipAvailability`} \PYG{k}{BEFORE} \PYG{k}{UPDATE} \PYG{k}{ON} \PYG{l+s+ss}{`rentalContracts`} \PYG{k}{FOR} \PYG{k}{EACH} \PYG{n}{ROW} 
\PYG{n}{BEGIN}
	\PYG{k+kt}{set} \PYG{n}{new}\PYG{p}{.}\PYG{n}{availability} \PYG{o}{=} \PYG{n+nf}{TIMESTAMPDIFF}\PYG{p}{(}\PYG{n}{hour}\PYG{p}{,} \PYG{n}{new}\PYG{p}{.}\PYG{n}{rentStartDate}\PYG{p}{,} \PYG{n}{new}\PYG{p}{.}\PYG{n}{rentEndDate}\PYG{p}{);}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{n}{DEFINER} \PYG{o}{=} \PYG{k}{CURRENT\PYGZus{}USER} \PYG{k}{TRIGGER} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`checkPortsNum`} \PYG{k}{BEFORE} \PYG{k}{INSERT} \PYG{k}{ON} \PYG{l+s+ss}{`Ports`} \PYG{k}{FOR} \PYG{k}{EACH} \PYG{n}{ROW}
\PYG{n}{BEGIN}
	\PYG{k}{if} \PYG{p}{((}\PYG{k}{select} \PYG{n+nf}{count}\PYG{p}{(}\PYG{o}{*}\PYG{p}{)} \PYG{k}{from} \PYG{p}{(}\PYG{k}{select} \PYG{o}{*} \PYG{k}{from} \PYG{l+s+ss}{`Ports`} \PYG{k}{where} \PYG{n}{missionNo} \PYG{o}{=} \PYG{n}{new}\PYG{p}{.}\PYG{n}{missionNo}\PYG{p}{)} \PYG{k}{as} \PYG{n}{fc}\PYG{p}{)} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{2}\PYG{p}{)} \PYG{k}{then}
		\PYG{k+kt}{set} \PYG{n}{new}\PYG{p}{.}\PYG{n}{missionNo} \PYG{o}{=} \PYG{n+no}{null}\PYG{p}{;}
	\PYG{n}{end} \PYG{k}{if}\PYG{p}{;}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}

\PYG{k}{USE} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{err}{\PYGZdl{}\PYGZdl{}}
\PYG{k}{CREATE} \PYG{n}{DEFINER} \PYG{o}{=} \PYG{k}{CURRENT\PYGZus{}USER} \PYG{k}{TRIGGER} \PYG{l+s+ss}{`Mercantile Ships`}\PYG{p}{.}\PYG{l+s+ss}{`calculateMissionLoad`} \PYG{n}{AFTER} \PYG{k}{INSERT} \PYG{k}{ON} \PYG{l+s+ss}{`Containers`} \PYG{k}{FOR} \PYG{k}{EACH} \PYG{n}{ROW}
\PYG{n}{BEGIN}
	\PYG{k}{update} \PYG{l+s+ss}{`Missions`} \PYG{k+kt}{set} \PYG{n}{missionLoad} \PYG{o}{=} \PYG{n}{missionLoad} \PYG{o}{+} \PYG{l+m+mi}{1}\PYG{p}{;}
\PYG{n}{END}\PYG{err}{\PYGZdl{}\PYGZdl{}}


\PYG{n}{DELIMITER} \PYG{p}{;}

\PYG{k+kt}{SET} \PYG{n}{SQL\PYGZus{}MODE}\PYG{o}{=@}\PYG{n}{OLD\PYGZus{}SQL\PYGZus{}MODE}\PYG{p}{;}
\PYG{k+kt}{SET} \PYG{n}{FOREIGN\PYGZus{}KEY\PYGZus{}CHECKS}\PYG{o}{=@}\PYG{n}{OLD\PYGZus{}FOREIGN\PYGZus{}KEY\PYGZus{}CHECKS}\PYG{p}{;}
\PYG{k+kt}{SET} \PYG{n}{UNIQUE\PYGZus{}CHECKS}\PYG{o}{=@}\PYG{n}{OLD\PYGZus{}UNIQUE\PYGZus{}CHECKS}\PYG{p}{;}
\end{Verbatim}
